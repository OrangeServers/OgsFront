<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

      <div id="demo1" class="xm-select-demo"></div>
      <button class="btn" id="demo1-getValue">获取选中值</button>
      <pre id="demo1-value"></pre>

<script src="./layui/layui.js"></script>
<script src="layui/layuimod/xm-select.js" type="text/javascript" charset="utf-8"></script>
<script src="js/jquery-3.3.1.js"></script>
<!-- Chart code -->

<script type="application/javascript">

    // layui.config({
    //     base: 'layui/'
    // }).extend({
    //     xmSelect: 'xm-select'
    // })
    //
    layui.use(['jquery', 'xmSelect'], function (){



      $.ajax({
          type: "POST",
          url: "http://10.0.1.198:18000/auth/host/test",
          data: {
          'name': '所有权限'
          },
          dataType: "JSON",
          success: function (res) {
              let auth_data = res['msg']
              for (let i=0;i<auth_data.length;i++){
                  if (auth_data[i]['selected'] === 'selected'){
                      auth_data[i]['selected'] = true
                  }
              }
            window.demo1 = xmSelect.render({
                el: '#demo1',
                language: 'zn',
                data: auth_data
            })
          }
      })

        let xmSelect = layui.xmSelect


  document.getElementById('demo1-getValue').onclick = function(){
      //获取当前多选选中的值
      var selectArr = demo1.getValue('value');
      document.getElementById('demo1-value').innerHTML = JSON.stringify(selectArr, null, 2);
  }

    })



</script>
</body>
</html>